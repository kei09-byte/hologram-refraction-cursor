<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Neon Fluid Wave</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      /* ミニクロック寄りの配色（紫は控えめ） */
      --bg-deep: #05060a;
      --glow-cyan: #5ce1ff;
      --glow-teal: #35ffc3;
      --glow-rose: #ff8fb8;
      --glow-violet: #b38cff;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: var(--bg-deep);
      overflow: hidden;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
        "SF Pro Display", "Helvetica Neue", sans-serif;
    }

    /* Notion 埋め込み時：iframe の高さ = この高さ */
    .wave-wrapper {
      position: relative;
      width: 100vw;
      height: 100vh; /* Notion 側で 180〜260px に調整するとちょうど良い */
      overflow: hidden;
      background: radial-gradient(circle at 0% 0%, #070a14, #020308 60%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
    }

    /* 右下にさりげないラベル（不要なら削除してOK） */
    .wave-label {
      position: absolute;
      right: 18px;
      bottom: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: linear-gradient(
        120deg,
        rgba(8, 12, 22, 0.88),
        rgba(26, 38, 60, 0.75)
      );
      color: rgba(255, 255, 255, 0.9);
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      gap: 6px;
      pointer-events: none;
    }

    .wave-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #5ce1ff, #35ffc3);
      box-shadow: 0 0 12px rgba(92, 225, 255, 0.9);
    }
  </style>
</head>
<body>
  <div class="wave-wrapper">
    <canvas id="waveCanvas"></canvas>
    <div class="wave-label">
      <span class="wave-dot"></span>
      <span>Neon Fluid Wave</span>
    </div>
  </div>

  <script>
    const canvas = document.getElementById("waveCanvas");
    const ctx = canvas.getContext("2d");

    let width = 0;
    let height = 0;
    let dpr = window.devicePixelRatio || 1;
    let time = 0;

    // 複数の“波レイヤー”を重ねて流体感を出す
    const waves = [
      {
        amplitude: 0.22, // 画面高さに対する比率
        wavelength: 1.2, // 波の密度
        speed: 0.4,
        phase: 0,
        colorStops: [
          { offset: 0, color: "rgba(92, 225, 255, 0.0)" },
          { offset: 0.4, color: "rgba(92, 225, 255, 0.9)" },
          { offset: 1, color: "rgba(53, 255, 195, 0.0)" }
        ],
        blur: 28,
        lineWidth: 2.2
      },
      {
        amplitude: 0.16,
        wavelength: 0.8,
        speed: -0.25,
        phase: Math.PI / 3,
        colorStops: [
          { offset: 0, color: "rgba(255, 143, 184, 0.0)" },
          { offset: 0.5, color: "rgba(255, 143, 184, 0.85)" },
          { offset: 1, color: "rgba(179, 140, 255, 0.0)" }
        ],
        blur: 22,
        lineWidth: 1.7
      },
      {
        amplitude: 0.1,
        wavelength: 1.8,
        speed: 0.18,
        phase: -Math.PI / 4,
        colorStops: [
          { offset: 0, color: "rgba(179, 140, 255, 0.0)" },
          { offset: 0.5, color: "rgba(179, 140, 255, 0.85)" },
          { offset: 1, color: "rgba(92, 225, 255, 0.0)" }
        ],
        blur: 18,
        lineWidth: 1.4
      }
    ];

    function resize() {
      const rect = canvas.getBoundingClientRect();
      width = rect.width;
      height = rect.height;
      canvas.width = width * dpr;
      canvas.height = height * dpr;
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    window.addEventListener("resize", resize);
    resize();

    function drawBackground() {
      // やや控えめなホログラム系背景
      const grad = ctx.createLinearGradient(0, 0, width, height);
      grad.addColorStop(0, "#05060a");
      grad.addColorStop(0.35, "#050913");
      grad.addColorStop(1, "#050712");
      ctx.fillStyle = grad;
      ctx.fillRect(0, 0, width, height);

      // 柔らかいグロー
      const radial = ctx.createRadialGradient(
        width * 0.1,
        height * 0.1,
        0,
        width * 0.1,
        height * 0.1,
        width * 0.7
      );
      radial.addColorStop(0, "rgba(92, 225, 255, 0.4)");
      radial.addColorStop(1, "rgba(92, 225, 255, 0.0)");
      ctx.fillStyle = radial;
      ctx.fillRect(0, 0, width, height);

      const radial2 = ctx.createRadialGradient(
        width * 0.9,
        height * 0.85,
        0,
        width * 0.9,
        height * 0.85,
        width * 0.8
      );
      radial2.addColorStop(0, "rgba(255, 143, 184, 0.28)");
      radial2.addColorStop(1, "rgba(255, 143, 184, 0.0)");
      ctx.fillStyle = radial2;
      ctx.fillRect(0, 0, width, height);
    }

    function drawWave(wave) {
      const centerY = height / 2;
      const amp = height * wave.amplitude;
      const lengthFactor = wave.wavelength;

      // 横方向のグラデーション（波の筋の色）
      const grad = ctx.createLinearGradient(0, centerY - amp, width, centerY + amp);
      wave.colorStops.forEach((stop) => {
        grad.addColorStop(stop.offset, stop.color);
      });

      ctx.save();
      ctx.filter = `blur(${wave.blur}px)`;
      ctx.globalCompositeOperation = "lighter";
      ctx.lineWidth = wave.lineWidth;
      ctx.strokeStyle = grad;

      ctx.beginPath();
      const segments = Math.max(120, Math.floor(width / 10));

      for (let i = 0; i <= segments; i++) {
        const t = i / segments;
        const x = t * width;

        const base =
          Math.sin(
            (t * Math.PI * 2 * lengthFactor) +
            (time * wave.speed * 0.8) +
            wave.phase
          );
        const sub =
          0.4 *
          Math.sin(
            (t * Math.PI * 4 * lengthFactor) -
            (time * wave.speed * 1.5) +
            wave.phase * 1.7
          );

        const y = centerY + (base + sub) * amp;

        if (i === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }

      ctx.stroke();
      ctx.restore();
    }

    function animate(timestamp) {
      time = timestamp * 0.0015; // 全体スピード

      drawBackground();

      waves.forEach((wave) => {
        drawWave(wave);
      });

      requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
  </script>
</body>
</html>
